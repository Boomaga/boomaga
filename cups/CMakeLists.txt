cmake_minimum_required( VERSION 2.6 )

project(boomagaCups)

set(CUPS_BACKEND_ID "MFG:${CUPS_BACKEND_MANUFACTURER};MDL:${CUPS_BACKEND_MODEL};DES:${CUPS_BACKEND_MANUFACTURER} ${CUPS_BACKEND_MODEL};CLS:PRINTER;CMD:POSTSCRIPT;")
add_definitions(-DCUPS_BACKEND_ID=\"${CUPS_BACKEND_ID}\")

configure_file(${CMAKE_CURRENT_SOURCE_DIR}/boomaga
               ${CMAKE_CURRENT_BINARY_DIR}/boomaga
               @ONLY)

configure_file(${CMAKE_CURRENT_SOURCE_DIR}/boomaga.ppd
               ${CMAKE_CURRENT_BINARY_DIR}/boomaga.ppd
               @ONLY)


install(FILES ${CMAKE_CURRENT_BINARY_DIR}/boomaga
  DESTINATION ${CUPS_BACKEND_DIR}
  PERMISSIONS OWNER_READ OWNER_WRITE OWNER_EXECUTE
)

install(FILES ${CMAKE_CURRENT_BINARY_DIR}/boomaga.ppd
  DESTINATION ${CUPS_PPD_DIR}
  PERMISSIONS OWNER_READ OWNER_WRITE GROUP_READ WORLD_READ
)
